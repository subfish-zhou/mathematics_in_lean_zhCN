<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ç§¯åˆ†å’Œæµ‹åº¦è®º - translation of Mathematics in Lean</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter_1_introduction.html"><strong aria-hidden="true">1.</strong> æ¦‚è¿°</a></li><li class="chapter-item expanded "><a href="chapter_2_basic.html"><strong aria-hidden="true">2.</strong> åŸºç¡€</a></li><li class="chapter-item expanded "><a href="chapter_10_integration_and_measure_theory.html" class="active"><strong aria-hidden="true">3.</strong> ç§¯åˆ†å’Œæµ‹åº¦è®º</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">translation of Mathematics in Lean</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/RedBlack23/mathematics_in_lean_zhCN" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ç§¯åˆ†å’Œæµ‹åº¦è®º"><a class="header" href="#ç§¯åˆ†å’Œæµ‹åº¦è®º">ç§¯åˆ†å’Œæµ‹åº¦è®º</a></h1>
<h2 id="101-åˆç­‰ç§¯åˆ†"><a class="header" href="#101-åˆç­‰ç§¯åˆ†">10.1 åˆç­‰ç§¯åˆ†</a></h2>
<p>æˆ‘ä»¬é¦–å…ˆå…³æ³¨å‡½æ•°åœ¨<code>â„</code>ä¸Šæœ‰é™åŒºé—´çš„ç§¯åˆ†ã€‚æˆ‘ä»¬å¯ä»¥ç§¯åˆ†åˆç­‰å‡½æ•°ã€‚</p>
<pre><code class="language-lean">import Mathlib.Analysis.SpecialFunctions.Integrals
import Mathlib.MeasureTheory.Integral.IntervalIntegral

local macro_rules | `($x ^ $y) =&gt; `(HPow.hPow $x $y) -- Porting note: See issue lean4#2220

open MeasureTheory intervalIntegral

open Interval
-- è¿™é‡Œå¼•å…¥äº†è®°å·`[[a, b]]` æ¥è¡¨ç¤ºåŒºé—´`min a b`åˆ°`max a b`ã€‚

example (a b : â„) : (âˆ« x in a..b, x) = (b ^ 2 - a ^ 2) / 2 :=
  integral_id

example {a b : â„} (h : (0 : â„) âˆ‰ [[a, b]]) : (âˆ« x in a..b, 1 / x) = Real.log (b / a) :=
  integral_one_div h
</code></pre>
<p>å¾®ç§¯åˆ†åŸºæœ¬å®šç†è”ç³»äº†å¾®åˆ†å’Œç§¯åˆ†ã€‚ä¸‹é¢æˆ‘ä»¬ç»™å‡ºè¿™ä¸ªå®šç†çš„ä¸¤ä¸ªéƒ¨åˆ†çš„ä¸€ç§ç®€å•æƒ…å½¢ã€‚
ç¬¬ä¸€éƒ¨åˆ†è¯´æ˜ç§¯åˆ†æ˜¯å¾®åˆ†çš„é€†è¿ç®—ï¼Œç¬¬äºŒéƒ¨åˆ†è¯´æ˜äº†å¦‚ä½•è®¡ç®—å¾®å…ƒçš„ç´¯ç§¯ã€‚ï¼ˆè¿™ä¸¤ä¸ªéƒ¨åˆ†éå¸¸å¯†åˆ‡ç›¸å…³ï¼Œä½†å®ƒä»¬çš„æœ€å¥½ç‰ˆæœ¬(æ²¡æœ‰å†™åœ¨è¿™é‡Œ)å¹¶ä¸ç­‰ä»·ã€‚ï¼‰</p>
<pre><code class="language-lean">example (f : â„ â†’ â„) (hf : Continuous f) (a b : â„) : deriv (fun u â†¦ âˆ« x : â„ in a..u, f x) b = f b :=
  (integral_hasStrictDerivAt_right (hf.intervalIntegrable _ _) (hf.stronglyMeasurableAtFilter _ _)
        hf.continuousAt).hasDerivAt.deriv

example {f : â„ â†’ â„} {a b : â„} {f' : â„ â†’ â„} (h : âˆ€ x âˆˆ [[a, b]], HasDerivAt f (f' x) x)
    (h' : IntervalIntegrable f' volume a b) : (âˆ« y in a..b, f' y) = f b - f a :=
  integral_eq_sub_of_hasDerivAt h h'
</code></pre>
<p>åœ¨Mathlibä¸­ä¹Ÿå®šä¹‰äº†å·ç§¯ï¼Œå¹¶è¯æ˜äº†å·ç§¯çš„åŸºæœ¬æ€§è´¨ã€‚</p>
<pre><code class="language-lean">import Mathlib.Analysis.Convolution

open Convolution

example (f : â„ â†’ â„) (g : â„ â†’ â„) : f â‹† g = fun x â†¦ âˆ« t, f t * g (x - t) :=
  rfl
</code></pre>
<h2 id="102-æµ‹åº¦è®º"><a class="header" href="#102-æµ‹åº¦è®º">10.2 æµ‹åº¦è®º</a></h2>
<p>Mathlibä¸­ç§¯åˆ†çš„æ•°å­¦åŸºç¡€æ˜¯æµ‹åº¦è®ºã€‚ç”šè‡³å‰ä¸€èŠ‚çš„åˆç­‰ç§¯åˆ†å®é™…ä¸Šä¹Ÿæ˜¯Bochnerç§¯åˆ†ã€‚Bochnerç§¯åˆ†æ˜¯Lebesgueç§¯åˆ†çš„æ¨å¹¿ï¼Œç›®æ ‡ç©ºé—´å¯ä»¥æ˜¯ä»»æ„çš„Banachç©ºé—´ï¼Œä¸ä¸€å®šæ˜¯æœ‰é™ç»´çš„ã€‚</p>
<p>æµ‹åº¦è®ºçš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯é›†åˆçš„$Ïƒ$-ä»£æ•°çš„è¯­è¨€ï¼Œè¢«ç§°ä½œ<em>å¯æµ‹é›†</em>ã€‚<code>MeasurableSpace</code>ç±»å‹æ—æä¾›äº†å¸¦æœ‰è¿™ç§ç»“æ„çš„ç±»å‹ã€‚ç©ºé›†<code>empty</code>å’Œå•å…ƒç´ é›†<code>univ</code>æ˜¯å¯æµ‹çš„ï¼Œå¯æµ‹é›†çš„è¡¥é›†æ˜¯å¯æµ‹çš„ï¼Œå¯æ•°äº¤å’Œå¯æ•°å¹¶æ˜¯å¯æµ‹çš„ã€‚æ³¨æ„ï¼Œè¿™äº›å…¬ç†æ˜¯å†—ä½™çš„ï¼›å¦‚æœä½ <code>#print MeasurableSpace</code>ï¼Œä½ ä¼šçœ‹åˆ°Mathlibç”¨æ¥æ„é€ å¯æµ‹é›†çš„å…¬ç†ã€‚å¯æ•°æ€§æ¡ä»¶å¯ä»¥ä½¿ç”¨<code>Encodable</code>ç±»å‹æ—æ¥è¡¨ç¤ºã€‚</p>
<pre><code class="language-lean">import Mathlib.MeasureTheory.MeasurableSpace.Defs

open Set

variable {Î± : Type*} [MeasurableSpace Î±]

example : MeasurableSet (âˆ… : Set Î±) :=
  MeasurableSet.empty

example : MeasurableSet (univ : Set Î±) :=
  MeasurableSet.univ

example {s : Set Î±} (hs : MeasurableSet s) : MeasurableSet (sá¶œ) :=
  hs.compl

example : Encodable â„• := by infer_instance

example (n : â„•) : Encodable (Fin n) := by infer_instance

variable {Î¹ : Type*} [Encodable Î¹]

example {f : Î¹ â†’ Set Î±} (h : âˆ€ b, MeasurableSet (f b)) : MeasurableSet (â‹ƒ b, f b) :=
  MeasurableSet.iUnion h

example {f : Î¹ â†’ Set Î±} (h : âˆ€ b, MeasurableSet (f b)) : MeasurableSet (â‹‚ b, f b) :=
  MeasurableSet.iInter h
</code></pre>
<p>å¦‚æœä¸€ä¸ªç±»å‹æ˜¯å¯æµ‹çš„é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æµ‹é‡å®ƒã€‚å­—é¢ä¸Šï¼Œå¯¹é…å¤‡$Ïƒ$-ä»£æ•°çš„é›†åˆï¼ˆæˆ–è€…ç±»å‹ï¼‰çš„æµ‹é‡æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ä»å¯æµ‹é›†åˆ°æ‰©å±•ï¼ˆå³å…è®¸æ— ç©·ï¼‰éè´Ÿå®æ•°çš„å‡½æ•°ï¼Œå¹¶ä¸”æ»¡è¶³å¯æ•°æ— äº¤å¹¶é›†åˆä¸Šå¯åŠ æ€§ã€‚åœ¨Mathlibä¸­ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ¯æ¬¡æµ‹é‡é›†åˆæ—¶éƒ½å¸¦ç€å†™ä¸€ä¸ªé›†åˆå¯æµ‹ã€‚å› æ­¤æˆ‘ä»¬æŠŠè¿™ä¸ªæµ‹åº¦æ¨å¹¿åˆ°ä»»ä½•é›†åˆ<code>s</code>ï¼Œä½œä¸ºåŒ…å«<code>s</code>çš„å¯æµ‹é›†åˆçš„æµ‹åº¦çš„æœ€å°å€¼ã€‚å½“ç„¶ï¼Œè®¸å¤šå¼•ç†ä»ç„¶éœ€è¦å¯æµ‹å‡è®¾ï¼Œä½†ä¸æ˜¯å…¨éƒ¨ã€‚</p>
<pre><code class="language-lean">open MeasureTheory
variable {Î¼ : Measure Î±}

example (s : Set Î±) : Î¼ s = â¨… (t : Set Î±) (_ : s âŠ† t) (_ : MeasurableSet t), Î¼ t :=
  measure_eq_iInf s

example (s : Î¹ â†’ Set Î±) : Î¼ (â‹ƒ i, s i) â‰¤ âˆ‘' i, Î¼ (s i) :=
  measure_iUnion_le s

example {f : â„• â†’ Set Î±} (hmeas : âˆ€ i, MeasurableSet (f i)) (hdis : Pairwise (Disjoint on f)) :
    Î¼ (â‹ƒ i, f i) = âˆ‘' i, Î¼ (f i) :=
  Î¼.m_iUnion hmeas hdis
</code></pre>
<p>ä¸€æ—¦ä¸€ä¸ªç±»å‹æœ‰äº†ä¸å®ƒç›¸å…³è”çš„æµ‹åº¦ï¼Œæˆ‘ä»¬å°±è¯´ï¼Œå¦‚æœæ€§è´¨<code>P</code>åªåœ¨ä¸€ä¸ªæµ‹åº¦ä¸º0çš„é›†åˆä¸Šå¤±æ•ˆï¼Œåˆ™<code>P</code>â€œå‡ ä¹å¤„å¤„â€æˆç«‹(almost everywhere, ae)ã€‚å‡ ä¹å¤„å¤„çš„æ€§è´¨é›†åˆå½¢æˆäº†ä¸€ä¸ªè¿‡æ»¤å™¨(filter)ï¼Œä½†æ˜¯Mathlibå¼•å…¥äº†ç‰¹æ®Šçš„ç¬¦å·æ¥è¡¨ç¤ºä¸€ä¸ªæ€§è´¨å‡ ä¹å¤„å¤„æˆç«‹ã€‚</p>
<pre><code class="language-lean">example {P : Î± â†’ Prop} : (âˆ€áµ x âˆ‚Î¼, P x) â†” âˆ€á¶  x in Î¼.ae, P x :=
  Iff.rfl
</code></pre>
<h2 id="103-ç§¯åˆ†"><a class="header" href="#103-ç§¯åˆ†">10.3 ç§¯åˆ†</a></h2>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†æµ‹åº¦å’Œå¯æµ‹ç©ºé—´ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ç§¯åˆ†äº†ã€‚æ­£å¦‚å‰æ–‡æ‰€è®²ï¼ŒMathlibä½¿ç”¨éå¸¸ä¸€èˆ¬çš„ç§¯åˆ†è®°å·ï¼Œæ”¯æŒä»»æ„çš„Banachç©ºé—´ã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æˆ‘ä»¬çš„è®°å·å¸¦æœ‰å‡è®¾ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™æ ·çº¦å®šï¼šå¦‚æœå‡½æ•°ä¸å¯ç§¯ï¼Œé‚£ä¹ˆç§¯åˆ†ç­‰äºé›¶ã€‚å¤§å¤šæ•°ä¸ç§¯åˆ†æœ‰å…³çš„å¼•ç†éƒ½æœ‰å¯ç§¯æ€§å‡è®¾ã€‚</p>
<pre><code class="language-lean">import Mathlib.MeasureTheory.Measure.MeasureSpaceDef
open Set Topology MeasureTheory

section
variable {Î± : Type*} [MeasurableSpace Î±] {Î¼ : Measure Î±}
variable {E : Type*} [NormedAddCommGroup E] [NormedSpace â„ E] [CompleteSpace E] {f : Î± â†’ E}

example {f g : Î± â†’ E} (hf : Integrable f Î¼) (hg : Integrable g Î¼) :
    âˆ« a, f a + g a âˆ‚Î¼ = âˆ« a, f a âˆ‚Î¼ + âˆ« a, g a âˆ‚Î¼ :=
  integral_add hf hg
</code></pre>
<p>ä½œä¸ºæˆ‘ä»¬åšå‡ºçš„å„ç§çº¦å®šä¹‹é—´å¤æ‚äº¤äº’çš„ä¸€ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç§¯åˆ†å¸¸å€¼å‡½æ•°ã€‚å›é¡¾ä¸€ä¸‹æµ‹åº¦<code>Î¼</code>æ˜¯åœ¨æ‰©å±•çš„éè´Ÿå®æ•°<code>â„â‰¥0âˆ</code>ä¸Šå–å€¼çš„ï¼Œå­˜åœ¨ä¸€ä¸ªå‡½æ•°<code>ENNReal.toReal : â„â‰¥0âˆ â†’ â„</code>æŠŠæ— ç©·ç‚¹<code>âŠ¤</code>æ˜ åˆ°0ã€‚å¯¹ä»»æ„<code>s : Set Î±</code>ï¼Œå¦‚æœ<code>Î¼ s = âŠ¤</code>ï¼Œåˆ™éé›¶çš„å¸¸å€¼å‡½æ•°åœ¨<code>s</code>ä¸Šä¸å¯ç§¯ï¼Œå› æ­¤æ ¹æ®çº¦å®šç§¯åˆ†å€¼ä¸º0ï¼Œåˆšå¥½æ˜¯<code>(Î¼ s).toReal</code>çš„ç»“æœã€‚æ‰€ä»¥æˆ‘ä»¬æœ‰ä¸‹é¢çš„å¼•ç†ã€‚</p>
<pre><code class="language-lean">example {s : Set Î±} (c : E) : âˆ« x in s, c âˆ‚Î¼ = (Î¼ s).toReal â€¢ c :=
  set_integral_const c
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å¿«é€Ÿåœ°è§£é‡Šå¦‚ä½•è·å¾—ç§¯åˆ†ç†è®ºä¸­æœ€é‡è¦çš„å®šç†ï¼Œä»æ§åˆ¶æ”¶æ•›å®šç†å¼€å§‹(dominated convergence theorem)ã€‚Mathlibä¸­æœ‰å‡ ä¸ªç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘ä»¬åªå±•ç¤ºæœ€åŸºæœ¬çš„ä¸€ä¸ªã€‚</p>
<pre><code class="language-lean">open Filter

example {F : â„• â†’ Î± â†’ E} {f : Î± â†’ E} (bound : Î± â†’ â„) (hmeas : âˆ€ n, AEStronglyMeasurable (F n) Î¼)
    (hint : Integrable bound Î¼) (hbound : âˆ€ n, âˆ€áµ a âˆ‚Î¼, â€–F n aâ€– â‰¤ bound a)
    (hlim : âˆ€áµ a âˆ‚Î¼, Tendsto (fun n : â„• â†¦ F n a) atTop (ğ“ (f a))) :
    Tendsto (fun n â†¦ âˆ« a, F n a âˆ‚Î¼) atTop (ğ“ (âˆ« a, f a âˆ‚Î¼)) :=
  tendsto_integral_of_dominated_convergence bound hmeas hint hbound hlim
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ªç§¯ç±»å‹ä¸Šçš„ç§¯åˆ†çš„Fubiniå®šç†ï¼š</p>
<pre><code class="language-lean">example {Î± : Type*} [MeasurableSpace Î±] {Î¼ : Measure Î±} [SigmaFinite Î¼] {Î² : Type*}
    [MeasurableSpace Î²] {Î½ : Measure Î²} [SigmaFinite Î½] (f : Î± Ã— Î² â†’ E)
    (hf : Integrable f (Î¼.prod Î½)) : âˆ« z, f z âˆ‚ Î¼.prod Î½ = âˆ« x, âˆ« y, f (x, y) âˆ‚Î½ âˆ‚Î¼ :=
  integral_prod f hf
</code></pre>
<p>æœ‰ä¸€ä¸ªéå¸¸ä¸€èˆ¬çš„ç‰ˆæœ¬çš„å·ç§¯é€‚ç”¨äºä»»ä½•è¿ç»­åŒçº¿æ€§å½¢å¼ã€‚</p>
<pre><code class="language-lean">import Mathlib.Analysis.Convolution
open Convolution

variable {ğ•œ : Type*} {G : Type*} {E : Type*} {E' : Type*} {F : Type*} [NormedAddCommGroup E]
  [NormedAddCommGroup E'] [NormedAddCommGroup F] [NontriviallyNormedField ğ•œ] [NormedSpace ğ•œ E]
  [NormedSpace ğ•œ E'] [NormedSpace ğ•œ F] [MeasurableSpace G] [NormedSpace â„ F] [CompleteSpace F]
  [Sub G]

example (f : G â†’ E) (g : G â†’ E') (L : E â†’L[ğ•œ] E' â†’L[ğ•œ] F) (Î¼ : Measure G) :
    f â‹†[L, Î¼] g = fun x â†¦ âˆ« t, L (f t) (g (x - t)) âˆ‚Î¼ :=
  rfl
</code></pre>
<p>æœ€åï¼ŒMathlibæœ‰ä¸€ä¸ªéå¸¸ä¸€èˆ¬çš„æ¢å…ƒå…¬å¼ã€‚ä¸‹é¢çš„å‘½é¢˜ä¸­ï¼Œ<code>BorelSpace E</code>æ„ä¸ºç”±å¼€é›†<code>E</code>ç”Ÿæˆçš„<code>E</code>ä¸Šçš„$Ïƒ$-ä»£æ•°ï¼Œ<code>IsAddHaarMeasure Î¼</code>æ„ä¸ºæµ‹åº¦<code>Î¼</code>æ˜¯å·¦ä¸å˜çš„(left-invariant)ï¼Œåœ¨ç´§é›†ä¸Šæœ‰é™ï¼Œåœ¨å¼€é›†ä¸Šä¸ºæ­£æ•°ã€‚</p>
<pre><code class="language-lean">import Mathlib.MeasureTheory.Function.Jacobian

example {E : Type*} [NormedAddCommGroup E] [NormedSpace â„ E] [FiniteDimensional â„ E]
    [MeasurableSpace E] [BorelSpace E] (Î¼ : Measure E) [Î¼.IsAddHaarMeasure] {F : Type*}
    [NormedAddCommGroup F] [NormedSpace â„ F] [CompleteSpace F] {s : Set E} {f : E â†’ E}
    {f' : E â†’ E â†’L[â„] E} (hs : MeasurableSet s)
    (hf : âˆ€ x : E, x âˆˆ s â†’ HasFDerivWithinAt f (f' x) s x) (h_inj : InjOn f s) (g : E â†’ F) :
    âˆ« x in f '' s, g x âˆ‚Î¼ = âˆ« x in s, |(f' x).det| â€¢ g (f x) âˆ‚Î¼ :=
  integral_image_eq_integral_abs_det_fderiv_smul Î¼ hs hf h_inj g
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="chapter_2_basic.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="chapter_2_basic.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
